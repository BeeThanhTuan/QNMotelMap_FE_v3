<div class="content_wrapper w-full text-base">
    <div class="recommend_motels max-w-custom mx-auto ">
        <div class="w-full px-1">
            <div class="mb:text-[24px] text-[20px] mb:pl-0 pl-2 font-sans font-bold text-custom-color-black ">Những nhà trọ gợi ý cho bạn</div>
        </div>
        <div class="w-full py-3 mb:mt-5 mt-2 relative mb:min-w-[700px] min-w-full overflow-x-auto scroll-smooth">
            <ul class="mb:w-full w-fit flex flex-nowrap gap-4 ntt-custom-ul  z-10 relative px-3  ">
                <li class="flex-1 mb:max-w-[calc(25%-12px)] max-w-none min-w-[calc(25%-12px)] mb:w-auto  rounded-xl mb-2 cursor-pointer " *ngFor="let motel of listTopMotels">
                    <div class="w-full relative " >
                        <a routerLink="/client/home/detail-motel/{{motel._id}}/overall" class="w-full">
                            <div class="w-full aspect-[4/3.2]"> <!-- Giữ tỷ lệ 4:3 -->
                                <img class="w-full h-full rounded-tl-xl rounded-tr-xl object-cover" src="http://localhost:3000/resources/img-motels/{{motel.ListImages[0].LinkImage}}" alt="Hình ảnh về nhà trọ">
                            </div>
                            <div class="info p-2 ntt-shadow-motel-card  rounded-bl-xl rounded-br-xl flex flex-col gap-2">
                                <div>
                                    <div class="ntt-custom-name-motel text-[16px] font-semibold text-custom-color-black ">
                                        Nhà trọ {{motel.NameMotel ? motel.NameMotel : (motel.Address + ', ' + motel.WardCommune)}}
                                    </div>
                                    <div class="ntt-custom-address-motel text-[12px] font-normal text-custom-color-black-light">
                                        {{motel.Address}}, {{motel.WardCommune}}
                                    </div>
                                </div>
                                <div class="flex gap-2">
                                    <div class="w-6 h-6 flex justify-center items-center bg-[#003B95] rounded-[3px] rounded-bl-none">
                                        <span class="text-[12px] font-semibold text-white">{{motel.TotalRating | number:'1.1-1'}}</span>
                                    </div>
                                    <div class="ntt-custom-address-motel text-[12px] font-normal text-custom-color-black-light ">
                                        <span>{{motel.ListRatings.length}} đánh giá</span> 
                                        <span> đánh giá</span>
                                    </div>
                                </div>
                                <div class="pb-1">
                                    <div class="text-[16px] font-semibold text-custom-color-blue text-right ">{{motel.Price | money}} VND</div>
                                </div>
                            </div>
                        </a>
                        <div >
                            <button *ngIf="!isFavorited(motel._id)" (click)="addMotelIntoFavorites(motel._id)" title="Thêm vào danh sách yêu thích"
                             class="w-9 h-9 favorite-motel absolute top-3 right-3 flex justify-center items-center rounded-full bg-white hover:bg-[#f2f2f2] group">
                                <i *ngIf="!isFavorited(motel._id) " class="bx bxs-heart text-[22px] text-[#babbbd] group-hover:text-red-500"></i>
                            </button>
                            <button *ngIf="isFavorited(motel._id)" (click)="removeMotelFromFavorites(motel._id)"  title="Xoá khỏi danh sách yêu thích"
                             class="w-9 h-9 favorite-motel absolute top-3 right-3 flex justify-center items-center rounded-full bg-white hover:bg-[#f2f2f2] group">
                                <i *ngIf="isFavorited(motel._id)" class="bx bxs-heart text-[22px] text-red-500 group-hover:text-[red]"></i>
                            </button>
                        </div>
                    </div>
                </li>
                
            </ul><!-- End list recommend motels  -->
            <div class="w-full absolute z-20 top-[30%] left-0 mb:flex hidden justify-between pointer-events-none">
                <button class="ntt-custom-button-prev-next flex justify-center items-center bg-white" aria-label="Trước đó" appClickPrevRecommendMotel>
                    <i class='bx bx-chevron-left text-[20px] text-custom-color-black-light'></i>
                </button>
                <button class="ntt-custom-button-prev-next flex justify-center items-center bg-white" aria-label="Kế tiếp" appClickNextRecommendMotel>
                    <i class='bx bx-chevron-right text-[20px] text-custom-color-black-light'></i>
                </button>
            </div>
        </div>
    </div> <!-- End recommend motels area-->
    <div class="classify-ward-commune-wrapper max-w-custom mx-auto mt-5 pb-10">
        <div class="w-full px-1">
            <div class="mb:text-[24px] text-[20px] mb:px-0 px-2 font-sans font-bold text-custom-color-black ">Những nhà trọ theo phường xã</div>
        </div>
        <div class="w-full p-2 mt-4 relative mb-20">
            <ul class="grid ml:grid-cols-5 md:grid-cols-4 mb:px-0 px-2 sm:grid-cols-3 grid-cols-3  gap-4">
                <li class="flex flex-col text-[14px] font-medium" *ngFor="let wardCommune of listMotelsByWardCommune">
                    <a class="h-[20px]  text-custom-color-black hover:underline" (click)="handleSearch(wardCommune.WardCommune)">{{wardCommune.WardCommune}}</a>
                    <span class="h-[17px] font-normal text-custom-color-black-light">{{wardCommune.Count}} nhà trọ</span>
                </li>
            </ul>
        </div>
    </div> <!-- End classify ward commune wrapper -->
</div> <!-- End content wrapper -->
